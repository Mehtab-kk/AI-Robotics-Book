"use strict";(globalThis.webpackChunkai_book=globalThis.webpackChunkai_book||[]).push([[581],{4285:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"module-1-ros2-nervous-system/chapter-5-rclpy-python-ai-agents","title":"Chapter-5 rclpy - Connecting Python AI Agents to ROS 2","description":"What is rclpy?","source":"@site/docs/module-1-ros2-nervous-system/chapter-5-rclpy-python-ai-agents.md","sourceDirName":"module-1-ros2-nervous-system","slug":"/module-1-ros2-nervous-system/chapter-5-rclpy-python-ai-agents","permalink":"/AI-Robotics-Book/docs/module-1-ros2-nervous-system/chapter-5-rclpy-python-ai-agents","draft":false,"unlisted":false,"editUrl":"https://github.com/Mehtab-kk/AI-Robotics-Book/edit/main/docs/module-1-ros2-nervous-system/chapter-5-rclpy-python-ai-agents.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Chapter-5 rclpy - Connecting Python AI Agents to ROS 2","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Chapter-4 Services & Actions - Requesting Robot Behavior","permalink":"/AI-Robotics-Book/docs/module-1-ros2-nervous-system/chapter-4-services-actions-parameters"},"next":{"title":"Chapter-6 URDF Basics - The Humanoid Robot Body","permalink":"/AI-Robotics-Book/docs/module-1-ros2-nervous-system/chapter-6-urdf-basics-humanoid-body"}}');var o=r(4848),t=r(8453);const i={title:"Chapter-5 rclpy - Connecting Python AI Agents to ROS 2",sidebar_position:5},c="rclpy - Connecting Python AI Agents to ROS 2",a={},l=[{value:"What is rclpy?",id:"what-is-rclpy",level:2},{value:"Python AI \u2192 ROS Communication",id:"python-ai--ros-communication",level:2},{value:"Conceptual Python Code Examples",id:"conceptual-python-code-examples",level:2},{value:"Simple Publisher Node",id:"simple-publisher-node",level:3},{value:"Simple Subscriber Node",id:"simple-subscriber-node",level:3},{value:"AI \u2192 Controller Communication Conceptually",id:"ai--controller-communication-conceptually",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"rclpy---connecting-python-ai-agents-to-ros-2",children:"rclpy - Connecting Python AI Agents to ROS 2"})}),"\n",(0,o.jsx)(n.h2,{id:"what-is-rclpy",children:"What is rclpy?"}),"\n",(0,o.jsx)(n.p,{children:"rclpy is the Python library that allows Python programs to communicate with ROS 2. It's the bridge between Python AI agents and the ROS 2 robot middleware."}),"\n",(0,o.jsx)(n.h2,{id:"python-ai--ros-communication",children:"Python AI \u2192 ROS Communication"}),"\n",(0,o.jsx)(n.p,{children:"Python is a popular language for AI development, and rclpy makes it easy to connect AI algorithms to robot hardware:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"AI Algorithm (Python) \u2194 rclpy \u2194 ROS 2 \u2194 Robot Hardware\n"})}),"\n",(0,o.jsx)(n.h2,{id:"conceptual-python-code-examples",children:"Conceptual Python Code Examples"}),"\n",(0,o.jsx)(n.h3,{id:"simple-publisher-node",children:"Simple Publisher Node"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass AIPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('ai_publisher')\r\n        self.publisher = self.create_publisher(String, 'ai_commands', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n\r\n    def timer_callback(self):\r\n        # AI decision here\r\n        msg = String()\r\n        msg.data = 'AI command: move forward'\r\n        self.publisher.publish(msg)\r\n        self.get_logger().info(f'Publishing: {msg.data}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    ai_publisher = AIPublisher()\r\n    rclpy.spin(ai_publisher)\r\n    ai_publisher.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,o.jsx)(n.h3,{id:"simple-subscriber-node",children:"Simple Subscriber Node"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import LaserScan\r\n\r\nclass AISubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('ai_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            LaserScan,\r\n            'laser_scan',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        # AI processing of sensor data\r\n        min_distance = min(msg.ranges)\r\n        if min_distance < 1.0:  # If obstacle is closer than 1 meter\r\n            self.get_logger().info('AI: Obstacle detected, planning new path')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    ai_subscriber = AISubscriber()\r\n    rclpy.spin(ai_subscriber)\r\n    ai_subscriber.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,o.jsx)(n.h2,{id:"ai--controller-communication-conceptually",children:"AI \u2192 Controller Communication Conceptually"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Perception"}),": AI receives sensor data through ROS topics"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Decision Making"}),": AI algorithms process the data and make decisions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Action"}),": AI sends commands back to robot controllers via ROS topics/services/actions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Feedback"}),": AI receives results and adjusts future decisions"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This creates a complete loop where AI agents can perceive, think, and act through the robot's ROS 2 interface."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Previous"}),": ",(0,o.jsx)(n.a,{href:"/AI-Robotics-Book/docs/module-1-ros2-nervous-system/chapter-4-services-actions-parameters",children:"Chapter 4: Services & Actions"}),"\r\n",(0,o.jsx)(n.strong,{children:"Next"}),": ",(0,o.jsx)(n.a,{href:"/AI-Robotics-Book/docs/module-1-ros2-nervous-system/chapter-6-urdf-basics-humanoid-body",children:"Chapter 6: URDF Basics"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>c});var s=r(6540);const o={},t=s.createContext(o);function i(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);